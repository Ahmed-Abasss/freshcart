"use strict";(self.webpackChunkFRESHCART=self.webpackChunkFRESHCART||[]).push([[493],{4493:(x,a,o)=>{o.r(a),o.d(a,{WishlistComponent:()=>f});var r=o(6814),t=o(4769);let m=(()=>{class s{transform(e,i){return e.split(" ").splice(0,i).join(" ")}static#t=this.\u0275fac=function(i){return new(i||s)};static#i=this.\u0275pipe=t.Yjl({name:"length",type:s,pure:!0,standalone:!0})}return s})();var h=o(2623),u=o(2425),g=o(7044);function p(s,d){1&s&&(t.TgZ(0,"div",3),t._UZ(1,"div",4),t.qZA())}function v(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t._UZ(2,"img",7),t.TgZ(3,"div",8)(4,"h4",9),t._uU(5),t.ALo(6,"length"),t.qZA(),t.TgZ(7,"h5",10),t._uU(8),t.qZA(),t.TgZ(9,"div",11)(10,"button",12),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.removeFromWhishList(c._id))}),t._uU(11,"remove"),t.qZA(),t.TgZ(12,"button",13),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.addToCart(c._id))}),t._uU(13,"Shop Now"),t.qZA()()()()()}if(2&s){const e=d.$implicit;t.xp6(2),t.Q6J("src",e.imageCover,t.LSH),t.xp6(3),t.Oqu(t.xi3(6,3,e.title,3)),t.xp6(3),t.Oqu(e.brand.name)}}let f=(()=>{class s{constructor(e,i,n){this._CartService=e,this._ToastrService=i,this._WhishlistService=n,this.productId="",this.isloading=!1,this.wishlist=[]}ngOnInit(){this.isloading=!0,this.update()}update(){this._WhishlistService.getWishedItems().subscribe({next:e=>{this.isloading=!1,this.wishlist=e.data},error:e=>{console.log(e),this.isloading=!1}})}removeFromWhishList(e){this._WhishlistService.removeFromWish(e).subscribe({next:i=>{console.log(i),console.log(i),this._ToastrService.success(i.message,"",{progressBar:!0,timeOut:1e3}),this.update()},error:i=>{console.log(i)}})}addToCart(e){this._CartService.addProductToCart(e).subscribe({next:i=>{this._CartService.numOfItems.next(i.numOfCartItems),this._ToastrService.success(i.message,"",{progressBar:!0,timeOut:1e3}),console.log(i)}})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(h.N),t.Y36(u._W),t.Y36(g.m))};static#i=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","loader-container  position-fixed top-0 bottom-0 end-0 start-0 bg-body d-flex justify-content-center align-items-center",4,"ngIf"],[1,"row"],["class","gy-3  col-md-4   ",4,"ngFor","ngForOf"],[1,"loader-container","position-fixed","top-0","bottom-0","end-0","start-0","bg-body","d-flex","justify-content-center","align-items-center"],[1,"loader"],[1,"gy-3","col-md-4"],[1,"border","rounded-3","p-0"],["alt","",1,"w-100","d-block",3,"src"],[1,"w-100","bg-main-light","p-2"],[1,"text-muted"],[1,"text-main","font-sm"],[1,"d-flex","flex-column"],[1,"btn","bg-main","text-white","my-2",3,"click"],[1,"btn","bg-main","text-white",3,"click"]],template:function(i,n){1&i&&(t.YNc(0,p,2,0,"div",0),t.TgZ(1,"div",1),t.YNc(2,v,14,6,"div",2),t.qZA()),2&i&&(t.Q6J("ngIf",n.isloading),t.xp6(2),t.Q6J("ngForOf",n.wishlist))},dependencies:[r.ez,r.sg,r.O5,m]})}return s})()}}]);